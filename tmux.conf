# make every window a login shell
# set -g default-command "${SHELL}"

# set window and pane index to 1 (0 by default)
set -g base-index 1
setw -g pane-base-index 1

#Sane Scrolling
#set-window -g mode-mouse on
set -g terminal-overrides 'xterm*:smcup@:rmcup@'
set-option -g default-shell $SHELL
set -g xterm-keys on
# set alternate-screen on
# set -g default-terminal screen-256color
#set -g default-terminal "xterm-256color"
#
#nesting tmux
#TMUX= tmux new-session -d -s name
#tmux switch-client -t name
# to send commands to the inner tmux
bind-key a send-prefix
#for fast session switch
unbind S
bind S command-prompt "switch -t %1"

# Changes for tmux 1.9 and above where c no longer creates a new window with the current directory
# of the current pane, and other similar features. Comment them if you use older versions
unbind c
bind c new-window -c "#{pane_current_path}"

#minimize and maximize
unbind +
bind + new-window -d -n tmux-zoom 'clear && echo TMUX ZOOM && read' \; swap-pane -s tmux-zoom.0 \; select-window -t tmux-zoom
unbind -
bind - last-window \; swap-pane -s tmux-zoom.0 \; kill-window -t tmux-zoom

# Vi keys in copy mode
set -g mode-keys vi
#emacs key bindings
set-window-option -g mode-keys vi
set-option -g status-keys emacs
set -g status-keys emacs

#window status
set-window-option -g window-status-current-bg red
set-window-option -g window-status-current-fg white
set-window-option -g window-status-current-attr 'bold'
set-window-option -g window-status-current-attr bright
set-window-option -g window-status-fg black
set-window-option -g window-status-bg white
set-window-option -g window-status-attr dim
bind -n End send-key C-e
bind -n Home send-key C-a

# auto window rename
set-window-option -g automatic-rename off

# use UTF8
set -g utf8 on
set-window-option -g utf8 on
set -g status-utf8 on
# set -g default-terminal "screen-256color"

#set-option -g status-bg blue
#set-option -g status-fg white
set-option -g status-fg colour231
set-option -g status-bg colour234
set-option -g status on

# Update the status bar every sixty seconds
set -g status-interval 60

# use PREFIX | to split window horizontally and PREFIX - to split vertically
bind | split-window -h
bind - split-window -v
# map Vi movement keys as pane movement keys
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
setw -g aggressive-resize on
# bind l select-pane -R

#set-option -g mouse-select-pane on
#set-option -g mouse-select-window on
# explicitly disable mouse control
setw -g mode-mouse off
set -g mouse-select-pane off
set -g mouse-resize-pane off
set -g mouse-select-window off
 # enable mouse mode
 bind m\
        set -g mode-mouse on\;\
        set -g mouse-resize-pane on\;\
        set -g mouse-select-pane on\;\
        set -g mouse-select-window on\;\
        display 'Mouse:on'
 #disable mouse mode
 bind M\
        set -g mode-mouse off\;\
        set -g mouse-resize-pane off\;\
        set -g mouse-select-pane off\;\
        set -g mouse-select-window off\;\
        display 'Mouse:off'

#titles
set -g set-titles on
set -g set-titles-string '#S:#I.#P #W'
set -g status-interval 1
set -g status-left ' #[fg=green,bold]#(/bin/hostname | sed -e 's/xterm-//' | sed -e 's/sim-//')#[default]'
set -g status-right ' #[fg=cyan,bold]%Y-%b(%m)-%d %l:%M%p#[default]'

# set scrollback history to 10000
set -g history-limit 50000

# tmux messages are displayed for 4 seconds
set -g display-time 4000

# focus events enabled for terminals that support them
set -g focus-events on

#activity notice
setw -g monitor-activity on
set -g visual-activity on
set -g status-justify centre           # center window list for clarity
#set-option -g status-position top
#source '/home/rmondal/.local/lib/python2.7/site-packages/powerline/bindings/tmux/powerline.conf'
#
run-shell ~/.tmux/plugins/tmux-copycat/copycat.tmux
run-shell ~/.tmux/plugins/tmux-cpu/cpu.tmux
# run-shell ~/.tmux/plugins/tmux-sidebar/sidebar.tmux
